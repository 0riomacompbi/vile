#!/usr/bin/env node
require("shelljs/global")

// TODO use lint-cov once proper tests are written
// TODO: create util methods for async chaining
exec(
  "npm run tsd",
  function(code) {
    if (code !== 0) exit(code)

    exec(
      "npm run compile",
      function(code) {
        if (code !== 0) exit(code)

        exec(
          "npm run compile-dev",
          function(code) {
            if (code !== 0) exit(code)

            exec(
              "npm run test-cov",
              function(code) {
                if (code !== 0) exit(code)
              })
          })
      })
  })
